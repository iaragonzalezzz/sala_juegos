<div class="ahorcado-wrap">
  <h2>Juego del Ahorcado</h2>

  <div class="top-info">
    <div class="timer">{{ tiempo }}s</div>
    <div class="intentos">Intentos: {{ maxErrores - errores }} / {{ maxErrores }}</div>
  </div>

 
  <div class="canvas">
    <svg viewBox="0 0 200 220" class="svg">
      <!-- Estructura -->
      <line x1="10" y1="210" x2="190" y2="210" class="palo" />            <!-- base -->
      <line x1="40" y1="210" x2="40" y2="20"  class="palo" />             <!-- vertical -->
      <line x1="40" y1="20"  x2="120" y2="20" class="palo" />             <!-- horizontal -->
      <line x1="120" y1="20" x2="120" y2="50" class="palo" />             <!-- soga -->

      <!-- Partes del cuerpo (se muestran según errores) -->
      <!-- 1: cabeza -->
      <circle cx="120" cy="70" r="20" class="parte" [attr.visibility]="errores > 0 ? 'visible' : 'hidden'"/>
      <!-- 2: cuerpo -->
      <line x1="120" y1="90" x2="120" y2="140" class="parte" [attr.visibility]="errores > 1 ? 'visible' : 'hidden'"/>
      <!-- 3: brazo izq -->
      <line x1="120" y1="105" x2="95"  y2="125" class="parte" [attr.visibility]="errores > 2 ? 'visible' : 'hidden'"/>
      <!-- 4: brazo der -->
      <line x1="120" y1="105" x2="145" y2="125" class="parte" [attr.visibility]="errores > 3 ? 'visible' : 'hidden'"/>
      <!-- 5: pierna izq -->
      <line x1="120" y1="140" x2="100" y2="175" class="parte" [attr.visibility]="errores > 4 ? 'visible' : 'hidden'"/>
      <!-- 6: pierna der -->
      <line x1="120" y1="140" x2="140" y2="175" class="parte" [attr.visibility]="errores > 5 ? 'visible' : 'hidden'"/>
    </svg>

   
    <div class="palabra">
      <span *ngFor="let g of guiones" class="guion">{{ g }}</span>
    </div>
  </div>

 
  <div class="teclado">
    <button
      *ngFor="let l of letras"
      class="key"
      (click)="presionar(l)"
      [disabled]="letrasAdivinadas.has(l) || letrasIncorrectas.has(l) || juegoTerminado"
      [class.ok]="letrasAdivinadas.has(l)"
      [class.bad]="letrasIncorrectas.has(l)"
    >
      {{ l }}
    </button>
  </div>

  <div class="estado" *ngIf="victoria">¡Ganaste! La palabra era <b>{{ palabra }}</b>.</div>
  <div class="estado" *ngIf="derrota">Perdiste. La palabra era <b>{{ palabra }}</b>.</div>


  <div class="acciones">
    <button class="btn" (click)="reiniciar()">Reiniciar</button>
    <button class="btn btn-sec" (click)="volver()">Volver</button>
  </div>
</div>

<app-sala-chat></app-sala-chat>
